<div class="product-desc-container">
    <div class="tabs">
        <button (click)="selectTab('description')" [class.active]="selectedTab === 'description'">
            Mô tả
        </button>
        <button (click)="selectTab('reviews')" [class.active]="selectedTab === 'reviews'">
            Đánh giá
        </button>
    </div>

    <div *ngIf="selectedTab === 'description'" class="tab-content">
        <ul class="product-details">
            <li><strong>Tên sản phẩm:</strong> {{ product.product_name || 'QUEENTIN' }}</li>
            <li><strong>Chất liệu:</strong> Nhựa cao cấp</li>
            <li><strong>Màu sắc:</strong> Transparent Grey</li>
            <li><strong>Kích thước:</strong> 51 - 20 - 156</li>
            <li><strong>Chiều ngang tròng (A):</strong> 51mm</li>
            <li><strong>Chiều dọc tròng (B):</strong> 42mm</li>
            <li><strong>Cầu mũi (C):</strong> 20mm</li>
            <li><strong>Chiều dài càng kính:</strong> 156mm</li>
        </ul>

        <div class="product-description">
            <h4>Mô tả sản phẩm:</h4>
            <p>{{ product.product_detail || 'Thiết kế gọng vuông với độ cao mặt kính cùng phần bản lề tinh xảo đem đến
                một diện mạo hiện đại và sang trọng.' }}</p>
        </div>
    </div>

    <div *ngIf="selectedTab === 'reviews'" class="tab-content">
        <div *ngFor="let review of pagedReviews" class="review-card">
            <strong class="review-user">{{ review.user }}:</strong>
            <span class="review-time">{{ review.timestamp }}</span>
            <p class="review-comment">{{ review.comment }}</p>
        </div>

        <div *ngIf="isLoggedIn; else loginPrompt" class="add-review">
            <textarea [(ngModel)]="newComment" placeholder="Viết đánh giá của bạn"></textarea>
            <button (click)="addReview()" class="btn btn-primary submit-review-button">Thêm đánh giá</button>
        </div>

        <ng-template #loginPrompt>
            <p>Vui lòng đăng nhập để thêm đánh giá.</p>
        </ng-template>

        <div class="pagination">
            <button *ngFor="let page of totalPagesArray" (click)="goToPage(page)" [class.active]="currentPage === page">
                <span>{{ page }}</span>
            </button>
        </div>
    </div>
</div>